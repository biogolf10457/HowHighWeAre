<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="myStyle.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>How High You Are</title>
</head>
<body>
    <div id="world">
        <div id="definition">
            <div id="textbox">
                <h1>{{title}}</h1>
                <p>{{realDefinition}}</p>
            </div>
        </div>
        <div id="menu">
            <a href="#human">Go to Bottom</a>
            <a href="#world">Go to Top</a>
            <a href="">About us</a>
        </div>
        <img class="onEarth" v-for="o in onEarth" :id="o.name" :src="o.img" alt="" :style="{'--pos': o.pos +'%', '--h': o.h ,}">
        
    </div>

    <script>
        //start at bottom of the website when enter the website
        function scrollBottom() {window.scrollTo(0, 99999999);}
        if (document.addEventListener) document.addEventListener("DOMContentLoaded", scrollBottom, false)
        else if (window.attachEvent) window.attachEvent("onload", scrollBottom);

        let app = new Vue({
            el:'#world',
            data:{
                onEarth:[
                    //descending sort
                    {
                        name:'titan2km',
                        pos:-80,//หน่วย%
                        realpos:-80,
                        h:20000,//หน่วยpx
                        realh:20000,
                        definition:'ไททัน2กิโลเมตร',
                        img:'human.svg'
                    },
                    {
                        name:'titan',
                        pos:40,//หน่วย%
                        realpos:40,
                        h:6000,//หน่วยpx
                        realh:6000,
                        definition:'ไททัน',
                        img:'human.svg'
                    },
                    {
                        name:'human',
                        pos:60,//หน่วย%
                        realpos:60,
                        h:340,//หน่วยpx
                        realh:340,//ความสูงจริง
                        definition:'คน',
                        img:'human.svg'
                    }
                ],
                title:'Test',
                realDefinition:"hello world"
            }
        })

        
        let ratio = 2;
        window.addEventListener("scroll", () => {
            //set attribute for using in many context
            let bodyRect = document.body.getBoundingClientRect();
            let bodyHeight = bodyRect.bottom - bodyRect.top;
            let worldRect = document.querySelector("#world").getBoundingClientRect();
            let worldHeight = worldRect.bottom - worldRect.top;
            let change = (bodyHeight-worldRect.bottom)*ratio; //change size when scroll up or down

            //set attribute of objects in html
            let onEarths = document.querySelector("#world").getElementsByClassName("onEarth");

            //for open difition of each objects
            for (let i = 0; i < onEarths.length; i++) {
                let oe = onEarths[i].getBoundingClientRect();
                if (oe.top < bodyHeight && oe.top > -bodyHeight) {
                    app.title = app.onEarth[i].name;
                    app.realDefinition = app.onEarth[i].definition;
                    document.querySelector("#definition").style.left = 0;
                    break;
                }
                else{
                    document.querySelector("#definition").style.left = -34+"%";
                }
            }
                

            //move the objects
            /*app.human.h = app.human.realh + change;
            app.titan.h = app.titan.realh + change;
            app.titan2km.h = app.titan2km.realh + change;*/

        });

    </script>
</body>
</html>