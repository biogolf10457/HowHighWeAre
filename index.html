<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="myStyle.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>How High You Are</title>
</head>
<body>
    <div id="world">
        <div id="definition">

        </div>
        <img class="onEarth" id="titan2km" src="human.svg" alt="titan2km" :style="{'--pos': titan2km.pos +'%', '--h': titan2km.h ,}">
        <img class="onEarth" id="titan" src="human.svg" alt="titan" :style="{'--pos': titan.pos +'%', '--h': titan.h ,}">
        <img class="onEarth" id="human" src="human.svg" alt="human" :style="{'--pos': human.pos +'%', '--h': human.h ,}">
        
    </div>

    <script>
        function scrollBottom() {window.scrollTo(0, 99999999);}
        if (document.addEventListener) document.addEventListener("DOMContentLoaded", scrollBottom, false)
        else if (window.attachEvent) window.attachEvent("onload", scrollBottom);

        let app = new Vue({
            el:'#world',
            data:{
                human:{
                    pos:60,//หน่วย%
                    h:340,//หน่วยpx
                    realh:340,//ความสูงจริง
                    definition:'คน'
                },
                titan:{
                    pos:40,//หน่วย%
                    h:6000,//หน่วยpx
                    realh:6000,
                    definition:'ไททัน'
                },
                titan2km:{
                    pos:-80,//หน่วย%
                    h:200000,//หน่วยpx
                    realh:200000,
                    definition:'ไททัน2กิโลเมตร'
                }
            }
        })

        
        let ratio = 2;
        window.addEventListener("scroll", () => {
            let first = document.getElementById("titan").getBoundingClientRect().top;
            if (first < 200 && first > -750) {
                document.querySelector("#definition").style.left = 0;
                console.log("yes")
            }
            else{
                document.querySelector("#definition").style.left = -34+"%";
                console.log("no")
            }

            let bodyRect = document.body.getBoundingClientRect();
            let bodyHeight = bodyRect.bottom - bodyRect.top;
            let worldRect = document.querySelector("#world").getBoundingClientRect();
            let worldHeight = worldRect.bottom - worldRect.top;
            let change = (bodyHeight-worldRect.bottom)*ratio;
            app.human.h = app.human.realh + change;
            app.titan.h = app.titan.realh + change;
            app.titan2km.h = app.titan2km.realh + change;

        });

    </script>
</body>
</html>